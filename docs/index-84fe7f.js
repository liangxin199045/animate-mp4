/*! Built at Mon Nov 19 2018 18:07:57 GMT+0800 (CST) */
!function(e){function t(t){for(var r,a,u=t[0],l=t[1],c=t[2],p=0,d=[];p<u.length;p++)a=u[p],o[a]&&d.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);d.length;)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={1:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="./";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var s=l;i.push([0,0]),n()}({0:function(e,t,n){e.exports=n("FZBc")},FZBc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindPage=h,n("VRzm"),n("rGqo"),n("ls82");var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n("hyZ5")),i=(r=n("MZFn"))&&r.__esModule?r:{default:r},a=n("LdsB");function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e,t){try{var n=i[e](t),a=n.value}catch(e){return void o(e)}n.done?r(a):Promise.resolve(a).then(u,l)}function u(e){a("next",e)}function l(e){a("throw",e)}u()})}}var l=.5,c=4,s=0;function p(e,t,n){return d.apply(this,arguments)}function d(){return(d=u(regeneratorRuntime.mark(function e(t,n,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(o=document.getElementById("video")).width=n,o.height=r,o.muted=!0,o.crossOrigin="anonymous",o.src=t,o.play(),e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var f={algorithm:"single-pose",input:{outputStride:16,imageScaleFactor:.2},singlePoseDetection:{minPoseConfidence:.1,minPartConfidence:.5},multiPoseDetection:{maxPoseDetections:5,minPoseConfidence:.15,minPartConfidence:.1,nmsRadius:30},output:{showVideo:!0,showSkeleton:!0,showPoints:!0,showBoundingBox:!1},net:null};function m(e,t,n,r){var o=document.getElementById("output"),i=o.getContext("2d"),l=document.getElementById("output2"),p=l.getContext("2d"),d=!0;function m(){return h.apply(this,arguments)}function h(){return(h=u(regeneratorRuntime.mark(function t(){var o,u,l,h,g,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(y.begin(),o=f.input.imageScaleFactor,u=+f.input.outputStride,l=[],s/c!=0){t.next=14;break}if("single-pose"!=f.algorithm){t.next=14;break}return t.next=8,f.net.estimateSinglePose(e,o,d,u);case 8:v=t.sent,l.push(v),h=+f.singlePoseDetection.minPoseConfidence,g=+f.singlePoseDetection.minPartConfidence,i.clearRect(0,0,n,r),l.forEach(function(e){var t=e.score,n=e.keypoints;t>=h&&(f.output.showPoints&&(0,a.drawKeypoints)(n,g,i),f.output.showSkeleton&&(0,a.drawSkeleton)(n,g,i),f.output.showBoundingBox&&(0,a.drawBoundingBox)(n,i))});case 14:p.clearRect(0,0,n,r),f.output.showVideo&&(p.save(),p.scale(-1,1),p.translate(-n,0),p.drawImage(e,0,0,n,r),p.restore()),y.end(),++s==c&&(s=0),requestAnimationFrame(m);case 20:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}o.width=n,o.height=r,l.width=n,l.height=r,m()}function h(e,t,n){return g.apply(this,arguments)}function g(){return(g=u(regeneratorRuntime.mark(function e(t,n,r){var i,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.load(l);case 2:return i=e.sent,document.getElementById("loading").style.display="none",document.getElementById("main").style.display="block",e.prev=5,e.next=8,p(t,n,r);case 8:a=e.sent,e.next=17;break;case 11:throw e.prev=11,e.t0=e.catch(5),(u=document.getElementById("info")).textContent="this browser does not support video capture,or this device does not have a camera",u.style.display="block",e.t0;case 17:y.showPanel(0),document.body.appendChild(y.dom),f.net=i,m(a,0,n,r);case 20:case"end":return e.stop()}},e,this,[[5,11]])}))).apply(this,arguments)}var y=new i.default;h("https://liangxin199045.github.io/animate-mp4/demo_720.mp4",360,640)},MZFn:function(e,t,n){var r;e.exports=((r=function(){function e(e){return o.appendChild(e.dom),e}function t(e){for(var t=0;t<o.children.length;t++)o.children[t].style.display=t===e?"block":"none";n=e}var n=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(e){e.preventDefault(),t(++n%o.children.length)},!1);var i=(performance||Date).now(),a=i,u=0,l=e(new r.Panel("FPS","#0ff","#002")),c=e(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var s=e(new r.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:o,addPanel:e,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){u++;var e=(performance||Date).now();if(c.update(e-i,200),e>a+1e3&&(l.update(1e3*u/(e-a),100),a=e,u=0,s)){var t=performance.memory;s.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:o,setMode:t}}).Panel=function(e,t,n){var r=1/0,o=0,i=Math.round,a=i(window.devicePixelRatio||1),u=80*a,l=48*a,c=3*a,s=2*a,p=3*a,d=15*a,f=74*a,m=30*a,h=document.createElement("canvas");h.width=u,h.height=l,h.style.cssText="width:80px;height:48px";var g=h.getContext("2d");return g.font="bold "+9*a+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,u,l),g.fillStyle=t,g.fillText(e,c,s),g.fillRect(p,d,f,m),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(p,d,f,m),{dom:h,update:function(l,y){r=Math.min(r,l),o=Math.max(o,l),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,u,d),g.fillStyle=t,g.fillText(i(l)+" "+e+" ("+i(r)+"-"+i(o)+")",c,s),g.drawImage(h,p+a,d,f-a,m,p,d,f-a,m),g.fillRect(p+f-a,d,a,m),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(p+f-a,d,a,i((1-l/y)*m))}}},r)}});
//# sourceMappingURL=index-84fe7f.js.map